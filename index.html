<!doctype html>
<head><meta charset="utf-8"><title>Syntactic Tail Calls</title><script type="application/json" id="menu-search-biblio">[{"type":"clause","id":"","aoid":null,"title":"Examples","number":"","namespace":"<no location>","location":"","key":"Examples"},{"type":"clause","id":"TailCallExpression-grammar-examples","aoid":null,"title":"Examples","number":"","namespace":"<no location>","location":"","key":"Examples"},{"type":"clause","id":"TailCallExpression","aoid":null,"title":"Tail Calls","number":"1","namespace":"<no location>","location":"","key":"Tail Calls"},{"type":"clause","id":"TailCallExpression-early-errors","aoid":null,"title":"Static Semantics: Early Errors","number":"1.1","namespace":"<no location>","location":"","key":"Static Semantics: Early Errors"},{"type":"clause","id":"TailCallExpression-evaluation","aoid":null,"title":"Runtime Semantics: Evaluation","number":"1.2","namespace":"<no location>","location":"","key":"Runtime Semantics: Evaluation"},{"type":"clause","id":"patches","aoid":null,"title":"Modifications to existing algorithms","number":"2","namespace":"<no location>","location":"","key":"Modifications to existing algorithms"},{"type":"clause","id":"sec-function-calls","aoid":null,"title":"Function Calls","number":"2.1","namespace":"<no location>","location":"","key":"Function Calls"},{"type":"clause","id":"sec-function-calls-runtime-semantics-evaluation","aoid":null,"title":"Runtime Semantics: Evaluation","number":"2.1.1","namespace":"<no location>","location":"","key":"Runtime Semantics: Evaluation"},{"type":"clause","id":"sec-tagged-templates","aoid":null,"title":"Tagged Templates","number":"2.2","namespace":"<no location>","location":"","key":"Tagged Templates"},{"type":"clause","id":"sec-tagged-templates-runtime-semantics-evaluation","aoid":null,"title":"Runtime Semantics: Evaluation","number":"2.2.1","namespace":"<no location>","location":"","key":"Runtime Semantics: Evaluation"},{"type":"clause","id":"sec-static-semantics-hasproductionintailposition","aoid":null,"title":"Static Semantics: HasProductionInTailPosition","number":"2.3","namespace":"<no location>","location":"","key":"Static Semantics: HasProductionInTailPosition"},{"type":"clause","id":"sec-expression-rules","aoid":null,"title":"Expression Rules","number":"2.3.1","namespace":"<no location>","location":"","key":"Expression Rules"},{"type":"clause","id":"sec-copyright-and-software-license","aoid":null,"title":"Copyright & Software License","number":"A","namespace":"<no location>","location":"","key":"Copyright & Software License"},{"type":"production","id":"prod-AssignmentExpression","name":"AssignmentExpression","namespace":"<no location>","location":"","key":"AssignmentExpression"},{"type":"production","id":"prod-TailCallExpression","name":"TailCallExpression","namespace":"<no location>","location":"","key":"TailCallExpression"},{"type":"production","id":"prod-CallExpression","name":"CallExpression","namespace":"<no location>","location":"","key":"CallExpression"},{"type":"production","id":"prod-MemberExpression","name":"MemberExpression","namespace":"<no location>","location":"","key":"MemberExpression"},{"type":"production","id":"prod-BitwiseANDExpression","name":"BitwiseANDExpression","namespace":"<no location>","location":"","key":"BitwiseANDExpression"},{"type":"production","id":"prod-BitwiseXORExpression","name":"BitwiseXORExpression","namespace":"<no location>","location":"","key":"BitwiseXORExpression"},{"type":"production","id":"prod-BitwiseORExpression","name":"BitwiseORExpression","namespace":"<no location>","location":"","key":"BitwiseORExpression"},{"type":"production","id":"prod-EqualityExpression","name":"EqualityExpression","namespace":"<no location>","location":"","key":"EqualityExpression"},{"type":"production","id":"prod-RelationalExpression","name":"RelationalExpression","namespace":"<no location>","location":"","key":"RelationalExpression"},{"type":"production","id":"prod-ShiftExpression","name":"ShiftExpression","namespace":"<no location>","location":"","key":"ShiftExpression"},{"type":"production","id":"prod-AdditiveExpression","name":"AdditiveExpression","namespace":"<no location>","location":"","key":"AdditiveExpression"},{"type":"production","id":"prod-MultiplicativeExpression","name":"MultiplicativeExpression","namespace":"<no location>","location":"","key":"MultiplicativeExpression"},{"type":"production","id":"prod-ExponentiationExpression","name":"ExponentiationExpression","namespace":"<no location>","location":"","key":"ExponentiationExpression"},{"type":"production","id":"prod-UpdateExpression","name":"UpdateExpression","namespace":"<no location>","location":"","key":"UpdateExpression"},{"type":"production","id":"prod-UnaryExpression","name":"UnaryExpression","namespace":"<no location>","location":"","key":"UnaryExpression"},{"type":"production","id":"prod-NewExpression","name":"NewExpression","namespace":"<no location>","location":"","key":"NewExpression"},{"type":"production","id":"prod-PrimaryExpression","name":"PrimaryExpression","namespace":"<no location>","location":"","key":"PrimaryExpression"},{"type":"production","id":"prod-Expression","name":"Expression","namespace":"<no location>","location":"","key":"Expression"},{"type":"production","id":"prod-ConditionalExpression","name":"ConditionalExpression","namespace":"<no location>","location":"","key":"ConditionalExpression"},{"type":"production","id":"prod-LogicalANDExpression","name":"LogicalANDExpression","namespace":"<no location>","location":"","key":"LogicalANDExpression"},{"type":"production","id":"prod-LogicalORExpression","name":"LogicalORExpression","namespace":"<no location>","location":"","key":"LogicalORExpression"},{"type":"production","id":"prod-ParenthesizedExpression","name":"ParenthesizedExpression","namespace":"<no location>","location":"","key":"ParenthesizedExpression"},{"type":"term","term":"direct eval","refId":"sec-function-calls-runtime-semantics-evaluation","namespace":"<no location>","location":"","key":"direct eval"}]</script></head><body><div id="menu-toggle">☰</div><div id="menu"><div id="menu-search"><input type="text" id="menu-search-box" placeholder="Search..."><div id="menu-search-results" class="inactive"></div></div><div id="menu-toc"><ol class="toc"><li><span class="item-toggle">◢</span><a href="#" title="Examples"><span class="secnum"></span> Examples</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#TailCallExpression-grammar-examples" title="Examples"><span class="secnum"></span> Examples</a></li></ol></li><li><span class="item-toggle">◢</span><a href="#TailCallExpression" title="Tail Calls"><span class="secnum">1</span> Tail Calls</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#TailCallExpression-early-errors" title="Static Semantics: Early Errors"><span class="secnum">1.1</span> SS: Early Errors</a></li><li><span class="item-toggle-none"></span><a href="#TailCallExpression-evaluation" title="Runtime Semantics: Evaluation"><span class="secnum">1.2</span> RS: Evaluation</a></li></ol></li><li><span class="item-toggle">◢</span><a href="#patches" title="Modifications to existing algorithms"><span class="secnum">2</span> Modifications to existing algorithms</a><ol class="toc"><li><span class="item-toggle">◢</span><a href="#sec-function-calls" title="Function Calls"><span class="secnum">2.1</span> Function Calls</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-function-calls-runtime-semantics-evaluation" title="Runtime Semantics: Evaluation"><span class="secnum">2.1.1</span> RS: Evaluation</a></li></ol></li><li><span class="item-toggle">◢</span><a href="#sec-tagged-templates" title="Tagged Templates"><span class="secnum">2.2</span> Tagged Templates</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-tagged-templates-runtime-semantics-evaluation" title="Runtime Semantics: Evaluation"><span class="secnum">2.2.1</span> RS: Evaluation</a></li></ol></li><li><span class="item-toggle">◢</span><a href="#sec-static-semantics-hasproductionintailposition" title="Static Semantics: HasProductionInTailPosition"><span class="secnum">2.3</span> SS: HasProductionInTailPosition</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-expression-rules" title="Expression Rules"><span class="secnum">2.3.1</span> Expression Rules</a></li></ol></li></ol></li><li><span class="item-toggle-none"></span><a href="#sec-copyright-and-software-license" title="Copyright &amp; Software License"><span class="secnum">A</span> Copyright &amp; Software License</a></li></ol></div></div><h1 class="version">Stage 0 Draft / May 24, 2016</h1><h1 class="title">Syntactic Tail Calls</h1>
<link rel="stylesheet" href="ecmarkup.css">
<script src="ecmarkup.js"></script>
<emu-intro>
This document introduces explicit syntax for tail calls. For motivation and an introduction, see

<a href="https://github.com/tc39/proposal-ptc-syntax/blob/master/README.md">the explainer document</a>.
The specification here defines the grammar for explicit tail calls and the runtime semantics which
guarantee tail call elimination for explicit tail call sites and removes guaranteed tail call
elimination from the cases where it was implicitly supported in ES2015. This specification still

<em>permits</em> tail call elimination in other cases, but does not  <em>require</em> it.
  
  <emu-intro id="TailCallExpression-grammar-examples">
    <h1><span class="secnum"></span><span class="secnum"></span>Examples<span class="utils"><span class="anchor"><a href="#">#</a></span></span><span class="utils"><span class="anchor"><a href="#TailCallExpression-grammar-examples">#</a></span></span></h1>

    <p>The following examples are all syntactically valid:    </p>
    <pre><code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo1</span>(<span class="hljs-params"></span>) </span>{ <span class="hljs-keyword">return</span> <span class="hljs-keyword">continue</span> bar(); }
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo2</span>(<span class="hljs-params"></span>) </span>{ <span class="hljs-keyword">return</span> <span class="hljs-keyword">continue</span> bar<span class="hljs-string">`template`</span>; }
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo3</span>(<span class="hljs-params"></span>) </span>{ <span class="hljs-keyword">return</span> bool ? <span class="hljs-keyword">continue</span> bar() : baz }

<span class="hljs-keyword">let</span> foo4 = () =&gt; <span class="hljs-keyword">continue</span> foo();
<span class="hljs-keyword">let</span> foo5 = () =&gt; bool ? <span class="hljs-keyword">continue</span> bar() : baz;</code></pre>

    <p>The following examples are all syntax errors:    </p>
    <pre><code class="javascript hljs"><span class="hljs-keyword">continue</span> bar();
<span class="hljs-comment">// continue in a statement context is still a ContinueStatement.</span>

(<span class="hljs-keyword">continue</span> bar());
<span class="hljs-comment">// continue is only syntactically valid under a return statement</span>

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo1</span>(<span class="hljs-params"></span>) </span>{ <span class="hljs-keyword">return</span> <span class="hljs-keyword">continue</span> baz; }
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo2</span>(<span class="hljs-params"></span>) </span>{ <span class="hljs-keyword">return</span> <span class="hljs-keyword">continue</span> <span class="hljs-number">1</span> + baz() }
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo3</span>(<span class="hljs-params"></span>) </span>{ <span class="hljs-keyword">return</span> <span class="hljs-keyword">continue</span> baz(), <span class="hljs-number">1</span> }
<span class="hljs-comment">// things that aren't tail calls are syntax errors</span></code></pre>
  </emu-intro>
</emu-intro>
<emu-clause id="TailCallExpression">
  <h1><span class="secnum">1</span>Tail Calls<span class="utils"><span class="anchor"><a href="#TailCallExpression">#</a></span></span></h1>
  <h2>Syntax</h2>
  <emu-grammar><emu-production name="AssignmentExpression" params="In, Yield" id="prod-AssignmentExpression">
    <emu-nt params="In, Yield"><a href="#prod-AssignmentExpression">AssignmentExpression</a><emu-mods><emu-params>[In, Yield]</emu-params></emu-mods></emu-nt><emu-geq>:</emu-geq><emu-rhs a="0e9e3100"><emu-nt params="?In, ?Yield"><a href="#prod-ConditionalExpression">ConditionalExpression</a><emu-mods><emu-params>[?In, ?Yield]</emu-params></emu-mods></emu-nt></emu-rhs>
    <emu-rhs a="197afb63" constraints="+Yield"><emu-constraints>[+Yield]</emu-constraints><emu-nt params="?In"><a href="https://tc39.github.io/ecma262/#prod-YieldExpression">YieldExpression</a><emu-mods><emu-params>[?In]</emu-params></emu-mods></emu-nt></emu-rhs>
    <emu-rhs a="a9fcaed4"><emu-nt params="?In, ?Yield"><a href="https://tc39.github.io/ecma262/#prod-ArrowFunction">ArrowFunction</a><emu-mods><emu-params>[?In, ?Yield]</emu-params></emu-mods></emu-nt></emu-rhs>
    <emu-rhs a="4894ae74"><emu-nt params="?Yield"><a href="https://tc39.github.io/ecma262/#prod-LeftHandSideExpression">LeftHandSideExpression</a><emu-mods><emu-params>[?Yield]</emu-params></emu-mods></emu-nt><emu-t>=</emu-t><emu-nt params="?In, ?Yield"><a href="#prod-AssignmentExpression">AssignmentExpression</a><emu-mods><emu-params>[?In, ?Yield]</emu-params></emu-mods></emu-nt></emu-rhs>
    <emu-rhs a="10c3e4bb"><emu-nt params="?Yield"><a href="https://tc39.github.io/ecma262/#prod-LeftHandSideExpression">LeftHandSideExpression</a><emu-mods><emu-params>[?Yield]</emu-params></emu-mods></emu-nt><emu-nt><a href="https://tc39.github.io/ecma262/#prod-AssignmentOperator">AssignmentOperator</a></emu-nt><emu-nt params="?In, ?Yield"><a href="#prod-AssignmentExpression">AssignmentExpression</a><emu-mods><emu-params>[?In, ?Yield]</emu-params></emu-mods></emu-nt></emu-rhs>
    <emu-rhs a="f1755e30"><emu-nt params="?Yield"><a href="#prod-TailCallExpression">TailCallExpression</a><emu-mods><emu-params>[?Yield]</emu-params></emu-mods></emu-nt></emu-rhs>
</emu-production>
<emu-production name="TailCallExpression" params="Yield" id="prod-TailCallExpression">
    <emu-nt params="Yield"><a href="#prod-TailCallExpression">TailCallExpression</a><emu-mods><emu-params>[Yield]</emu-params></emu-mods></emu-nt><emu-geq>:</emu-geq><emu-rhs a="1f0f1795"><emu-t>continue</emu-t><emu-nt params="?Yield"><a href="#prod-MemberExpression">MemberExpression</a><emu-mods><emu-params>[?Yield]</emu-params></emu-mods></emu-nt><emu-nt params="?Yield"><a href="https://tc39.github.io/ecma262/#prod-Arguments">Arguments</a><emu-mods><emu-params>[?Yield]</emu-params></emu-mods></emu-nt></emu-rhs>
    <emu-rhs a="28e68f0a"><emu-t>continue</emu-t><emu-nt params="?Yield"><a href="#prod-CallExpression">CallExpression</a><emu-mods><emu-params>[?Yield]</emu-params></emu-mods></emu-nt><emu-nt params="?Yield"><a href="https://tc39.github.io/ecma262/#prod-Arguments">Arguments</a><emu-mods><emu-params>[?Yield]</emu-params></emu-mods></emu-nt></emu-rhs>
    <emu-rhs a="707faded"><emu-t>continue</emu-t><emu-nt params="?Yield"><a href="#prod-MemberExpression">MemberExpression</a><emu-mods><emu-params>[?Yield]</emu-params></emu-mods></emu-nt><emu-nt params="?Yield"><a href="https://tc39.github.io/ecma262/#prod-TemplateLiteral">TemplateLiteral</a><emu-mods><emu-params>[?Yield]</emu-params></emu-mods></emu-nt></emu-rhs>
    <emu-rhs a="b15708e2"><emu-t>continue</emu-t><emu-nt params="?Yield"><a href="#prod-CallExpression">CallExpression</a><emu-mods><emu-params>[?Yield]</emu-params></emu-mods></emu-nt><emu-nt params="?Yield"><a href="https://tc39.github.io/ecma262/#prod-TemplateLiteral">TemplateLiteral</a><emu-mods><emu-params>[?Yield]</emu-params></emu-mods></emu-nt></emu-rhs>
</emu-production></emu-grammar>

  <emu-clause id="TailCallExpression-early-errors">
    <h1><span class="secnum">1.1</span>Static Semantics: Early Errors<span class="utils"><span class="anchor"><a href="#TailCallExpression-early-errors">#</a></span></span></h1>
    <ul>
      <li>It is a Syntax Error <emu-xref aoid="IsInTailPosition"><a href="https://tc39.github.io/ecma262/#sec-isintailposition">IsInTailPosition</a></emu-xref> of <emu-nt><a href="#prod-TailCallExpression">TailCallExpression</a></emu-nt> is <emu-val>false</emu-val>.</li>
      <li>It is a Syntax Error if the StringValue of the <emu-nt><a href="#prod-MemberExpression">MemberExpression</a></emu-nt> is <code>eval</code>.</li>
    </ul>
  </emu-clause>

  <emu-clause id="TailCallExpression-evaluation">
    <h1><span class="secnum">1.2</span>Runtime Semantics: Evaluation<span class="utils"><span class="anchor"><a href="#TailCallExpression-evaluation">#</a></span></span></h1>
        <emu-grammar><emu-production name="TailCallExpression" collapsed="">
    <emu-nt><a href="#prod-TailCallExpression">TailCallExpression</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="784cf0d6"><emu-t>continue</emu-t><emu-nt><a href="#prod-MemberExpression">MemberExpression</a></emu-nt><emu-nt><a href="https://tc39.github.io/ecma262/#prod-Arguments">Arguments</a></emu-nt></emu-rhs>
</emu-production></emu-grammar>
        <emu-alg><ol><li>Let <var>ref</var> be the result of evaluating <emu-nt><a href="#prod-MemberExpression">MemberExpression</a></emu-nt>.</li><li>Let <var>func</var> be ? <emu-xref aoid="GetValue"><a href="https://tc39.github.io/ecma262/#sec-getvalue">GetValue</a></emu-xref>(<var>ref</var>).</li><li>If <emu-xref aoid="Type"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>ref</var>) is <emu-xref href="#sec-reference-specification-type"><a href="https://tc39.github.io/ecma262/#sec-reference-specification-type">Reference</a></emu-xref>, then<ol><li>If IsPropertyReference(<var>ref</var>) is <emu-val>true</emu-val>, then<ol><li>Let <var>thisValue</var> be <emu-xref aoid="GetThisValue"><a href="https://tc39.github.io/ecma262/#sec-getthisvalue">GetThisValue</a></emu-xref>(<var>ref</var>).</li></ol></li><li>Else, the base of <var>ref</var> is an <emu-xref href="#sec-environment-records"><a href="https://tc39.github.io/ecma262/#sec-environment-records">Environment Record</a></emu-xref><ol><li>Let <var>refEnv</var> be GetBase(<var>ref</var>).</li><li>Let <var>thisValue</var> be <var>refEnv</var>.WithBaseObject().</li></ol></li></ol></li><li>Else <emu-xref aoid="Type"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>ref</var>) is not <emu-xref href="#sec-reference-specification-type"><a href="https://tc39.github.io/ecma262/#sec-reference-specification-type">Reference</a></emu-xref>,<ol><li>Let <var>thisValue</var> be <emu-val>undefined</emu-val>.</li></ol></li><li>Return ? <emu-xref aoid="EvaluateDirectCall"><a href="https://tc39.github.io/ecma262/#sec-evaluatedirectcall">EvaluateDirectCall</a></emu-xref>(<var>func</var>, <var>thisValue</var>, <emu-nt><a href="https://tc39.github.io/ecma262/#prod-Arguments">Arguments</a></emu-nt>, <emu-val>true</emu-val>).
        </li></ol></emu-alg>
        <emu-grammar><emu-production name="TailCallExpression" collapsed="">
    <emu-nt><a href="#prod-TailCallExpression">TailCallExpression</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="3257ad51"><emu-t>continue</emu-t><emu-nt><a href="#prod-CallExpression">CallExpression</a></emu-nt><emu-nt><a href="https://tc39.github.io/ecma262/#prod-Arguments">Arguments</a></emu-nt></emu-rhs>
</emu-production></emu-grammar>
        <emu-alg><ol><li>Let <var>ref</var> be the result of evaluating <emu-nt><a href="#prod-CallExpression">CallExpression</a></emu-nt>.</li><li>Return ? <emu-xref aoid="EvaluateCall"><a href="https://tc39.github.io/ecma262/#sec-evaluatecall">EvaluateCall</a></emu-xref>(<var>ref</var>, <emu-nt><a href="https://tc39.github.io/ecma262/#prod-Arguments">Arguments</a></emu-nt>, <emu-val>true</emu-val>).
        </li></ol></emu-alg>
      </emu-clause>
      <emu-grammar><emu-production name="TailCallExpression" collapsed="">
    <emu-nt><a href="#prod-TailCallExpression">TailCallExpression</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="fdaeb5d5"><emu-t>continue</emu-t><emu-nt><a href="#prod-MemberExpression">MemberExpression</a></emu-nt><emu-nt><a href="https://tc39.github.io/ecma262/#prod-TemplateLiteral">TemplateLiteral</a></emu-nt></emu-rhs>
</emu-production></emu-grammar>
      <emu-alg><ol><li>Let <var>tagRef</var> be the result of evaluating <emu-nt><a href="#prod-MemberExpression">MemberExpression</a></emu-nt>.</li><li>Return ? <emu-xref aoid="EvaluateCall"><a href="https://tc39.github.io/ecma262/#sec-evaluatecall">EvaluateCall</a></emu-xref>(<var>tagRef</var>, <emu-nt><a href="https://tc39.github.io/ecma262/#prod-TemplateLiteral">TemplateLiteral</a></emu-nt>, <emu-val>true</emu-val>).
      </li></ol></emu-alg>
      <emu-grammar><emu-production name="TailCallExpression" collapsed="">
    <emu-nt><a href="#prod-TailCallExpression">TailCallExpression</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="34f67dba"><emu-t>continue</emu-t><emu-nt><a href="#prod-CallExpression">CallExpression</a></emu-nt><emu-nt><a href="https://tc39.github.io/ecma262/#prod-TemplateLiteral">TemplateLiteral</a></emu-nt></emu-rhs>
</emu-production></emu-grammar>
      <emu-alg><ol><li>Let <var>tagRef</var> be the result of evaluating <emu-nt><a href="#prod-CallExpression">CallExpression</a></emu-nt>.</li><li>Return ? <emu-xref aoid="EvaluateCall"><a href="https://tc39.github.io/ecma262/#sec-evaluatecall">EvaluateCall</a></emu-xref>(<var>tagRef</var>, <emu-nt><a href="https://tc39.github.io/ecma262/#prod-TemplateLiteral">TemplateLiteral</a></emu-nt>,  <emu-val>true</emu-val>).
    </li></ol></emu-alg></emu-clause>
  


<emu-clause id="patches">
  <h1><span class="secnum">2</span>Modifications to existing algorithms<span class="utils"><span class="anchor"><a href="#patches">#</a></span></span></h1>
    <emu-clause id="sec-function-calls">
      <h1><span class="secnum">2.1</span>Function Calls<span class="utils"><span class="anchor"><a href="#sec-function-calls">#</a></span></span></h1>

      <!-- es6num="12.3.4.1" -->
      <emu-clause id="sec-function-calls-runtime-semantics-evaluation">
        <h1><span class="secnum">2.1.1</span>Runtime Semantics: Evaluation<span class="utils"><span class="anchor"><a href="#sec-function-calls-runtime-semantics-evaluation">#</a></span></span></h1>
        <emu-grammar><emu-production name="CallExpression" collapsed="" id="prod-CallExpression">
    <emu-nt><a href="#prod-CallExpression">CallExpression</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="be44becf"><emu-nt><a href="#prod-MemberExpression">MemberExpression</a></emu-nt><emu-nt><a href="https://tc39.github.io/ecma262/#prod-Arguments">Arguments</a></emu-nt></emu-rhs>
</emu-production></emu-grammar>
        <emu-alg><ol><li>Let <var>ref</var> be the result of evaluating <emu-nt><a href="#prod-MemberExpression">MemberExpression</a></emu-nt>.</li><li>Let <var>func</var> be ? <emu-xref aoid="GetValue"><a href="https://tc39.github.io/ecma262/#sec-getvalue">GetValue</a></emu-xref>(<var>ref</var>).</li><li>If <emu-xref aoid="Type"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>ref</var>) is <emu-xref href="#sec-reference-specification-type"><a href="https://tc39.github.io/ecma262/#sec-reference-specification-type">Reference</a></emu-xref> and IsPropertyReference(<var>ref</var>) is <emu-val>false</emu-val> and GetReferencedName(<var>ref</var>) is <code>"eval"</code>, then<ol><li>If <emu-xref aoid="SameValue"><a href="https://tc39.github.io/ecma262/#sec-samevalue">SameValue</a></emu-xref>(<var>func</var>, <emu-xref href="#sec-eval-x"><a href="https://tc39.github.io/ecma262/#sec-eval-x">%eval%</a></emu-xref>) is <emu-val>true</emu-val>, then<ol><li>Let <var>argList</var> be ? ArgumentListEvaluation(<emu-nt><a href="https://tc39.github.io/ecma262/#prod-Arguments">Arguments</a></emu-nt>).</li><li>If <var>argList</var> has no elements, return <emu-val>undefined</emu-val>.</li><li>Let <var>evalText</var> be the first element of <var>argList</var>.</li><li>If the source code matching this <emu-nt><a href="#prod-CallExpression">CallExpression</a></emu-nt> is strict code, let <var>strictCaller</var> be <emu-val>true</emu-val>. Otherwise let <var>strictCaller</var> be <emu-val>false</emu-val>.</li><li>Let <var>evalRealm</var> be <emu-xref href="#current-realm"><a href="https://tc39.github.io/ecma262/#current-realm">the current Realm Record</a></emu-xref>.</li><li>Perform ? HostEnsureCanCompileStrings(<var>evalRealm</var>, <var>evalRealm</var>).</li><li>Return ? <emu-xref aoid="PerformEval"><a href="https://tc39.github.io/ecma262/#sec-performeval">PerformEval</a></emu-xref>(<var>evalText</var>, <var>evalRealm</var>, <var>strictCaller</var>, <emu-val>true</emu-val>).</li></ol></li></ol></li><li>If <emu-xref aoid="Type"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>ref</var>) is <emu-xref href="#sec-reference-specification-type"><a href="https://tc39.github.io/ecma262/#sec-reference-specification-type">Reference</a></emu-xref>, then<ol><li>If IsPropertyReference(<var>ref</var>) is <emu-val>true</emu-val>, then<ol><li>Let <var>thisValue</var> be <emu-xref aoid="GetThisValue"><a href="https://tc39.github.io/ecma262/#sec-getthisvalue">GetThisValue</a></emu-xref>(<var>ref</var>).</li></ol></li><li>Else, the base of <var>ref</var> is an <emu-xref href="#sec-environment-records"><a href="https://tc39.github.io/ecma262/#sec-environment-records">Environment Record</a></emu-xref><ol><li>Let <var>refEnv</var> be GetBase(<var>ref</var>).</li><li>Let <var>thisValue</var> be <var>refEnv</var>.WithBaseObject().</li></ol></li></ol></li><li>Else <emu-xref aoid="Type"><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a></emu-xref>(<var>ref</var>) is not <emu-xref href="#sec-reference-specification-type"><a href="https://tc39.github.io/ecma262/#sec-reference-specification-type">Reference</a></emu-xref>,<ol><li>Let <var>thisValue</var> be <emu-val>undefined</emu-val>.</li></ol></li><li><del>Let <var>thisCall</var> be this <emu-nt><a href="#prod-CallExpression">CallExpression</a></emu-nt>.</del></li><li><del>Let <var>tailCall</var> be <emu-xref aoid="IsInTailPosition"><a href="https://tc39.github.io/ecma262/#sec-isintailposition">IsInTailPosition</a></emu-xref>(<var>thisCall</var>).</del></li><li>Return ? <emu-xref aoid="EvaluateDirectCall"><a href="https://tc39.github.io/ecma262/#sec-evaluatedirectcall">EvaluateDirectCall</a></emu-xref>(<var>func</var>, <var>thisValue</var>, <emu-nt><a href="https://tc39.github.io/ecma262/#prod-Arguments">Arguments</a></emu-nt>, <del><var>tailCall</var></del><ins><emu-val>false</emu-val></ins>).
        </li></ol></emu-alg>
        <p>A <emu-nt><a href="#prod-CallExpression">CallExpression</a></emu-nt> evaluation that executes step 3.a.vi is a  <dfn>direct eval</dfn>.</p>
        <emu-grammar><emu-production name="CallExpression" collapsed="">
    <emu-nt><a href="#prod-CallExpression">CallExpression</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="42e81a1c"><emu-nt><a href="#prod-CallExpression">CallExpression</a></emu-nt><emu-nt><a href="https://tc39.github.io/ecma262/#prod-Arguments">Arguments</a></emu-nt></emu-rhs>
</emu-production></emu-grammar>
        <emu-alg><ol><li>Let <var>ref</var> be the result of evaluating <emu-nt><a href="#prod-CallExpression">CallExpression</a></emu-nt>.</li><li><del>Let <var>thisCall</var> be this <emu-nt><a href="#prod-CallExpression">CallExpression</a></emu-nt>.</del></li><li><del>Let <var>tailCall</var> be <emu-xref aoid="IsInTailPosition"><a href="https://tc39.github.io/ecma262/#sec-isintailposition">IsInTailPosition</a></emu-xref>(<var>thisCall</var>).</del></li><li>Return ? <emu-xref aoid="EvaluateCall"><a href="https://tc39.github.io/ecma262/#sec-evaluatecall">EvaluateCall</a></emu-xref>(<var>ref</var>, <emu-nt><a href="https://tc39.github.io/ecma262/#prod-Arguments">Arguments</a></emu-nt>, <del><var>tailCall</var></del><ins><emu-val>false</emu-val></ins>).
        </li></ol></emu-alg>
      </emu-clause>
    </emu-clause>
    <emu-clause id="sec-tagged-templates">
      <h1><span class="secnum">2.2</span>Tagged Templates<span class="utils"><span class="anchor"><a href="#sec-tagged-templates">#</a></span></span></h1>
      <!-- es6num="12.3.7.1" -->
      <emu-clause id="sec-tagged-templates-runtime-semantics-evaluation">
        <h1><span class="secnum">2.2.1</span>Runtime Semantics: Evaluation<span class="utils"><span class="anchor"><a href="#sec-tagged-templates-runtime-semantics-evaluation">#</a></span></span></h1>
        <emu-grammar><emu-production name="MemberExpression" collapsed="" id="prod-MemberExpression">
    <emu-nt><a href="#prod-MemberExpression">MemberExpression</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="149e7618"><emu-nt><a href="#prod-MemberExpression">MemberExpression</a></emu-nt><emu-nt><a href="https://tc39.github.io/ecma262/#prod-TemplateLiteral">TemplateLiteral</a></emu-nt></emu-rhs>
</emu-production></emu-grammar>
        <emu-alg><ol><li>Let <var>tagRef</var> be the result of evaluating <emu-nt><a href="#prod-MemberExpression">MemberExpression</a></emu-nt>.</li><li><del>Let <var>thisCall</var> be this <emu-nt><a href="#prod-CallExpression">CallExpression</a></emu-nt>.</del></li><li><del>Let <var>tailCall</var> be <emu-xref aoid="IsInTailPosition"><a href="https://tc39.github.io/ecma262/#sec-isintailposition">IsInTailPosition</a></emu-xref>(<var>thisCall</var>).</del></li><li>Return ? <emu-xref aoid="EvaluateCall"><a href="https://tc39.github.io/ecma262/#sec-evaluatecall">EvaluateCall</a></emu-xref>(<var>tagRef</var>, <emu-nt><a href="https://tc39.github.io/ecma262/#prod-TemplateLiteral">TemplateLiteral</a></emu-nt>, <del><var>tailCall</var></del><ins><emu-val>false</emu-val></ins>).
        </li></ol></emu-alg>
        <emu-grammar><emu-production name="CallExpression" collapsed="">
    <emu-nt><a href="#prod-CallExpression">CallExpression</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="adcef8e1"><emu-nt><a href="#prod-CallExpression">CallExpression</a></emu-nt><emu-nt><a href="https://tc39.github.io/ecma262/#prod-TemplateLiteral">TemplateLiteral</a></emu-nt></emu-rhs>
</emu-production></emu-grammar>
        <emu-alg><ol><li>Let <var>tagRef</var> be the result of evaluating <emu-nt><a href="#prod-CallExpression">CallExpression</a></emu-nt>.</li><li><del>Let <var>thisCall</var> be this <emu-nt><a href="#prod-CallExpression">CallExpression</a></emu-nt>.</del></li><li><del>Let <var>tailCall</var> be <emu-xref aoid="IsInTailPosition"><a href="https://tc39.github.io/ecma262/#sec-isintailposition">IsInTailPosition</a></emu-xref>(<var>thisCall</var>).</del></li><li>Return ? <emu-xref aoid="EvaluateCall"><a href="https://tc39.github.io/ecma262/#sec-evaluatecall">EvaluateCall</a></emu-xref>(<var>tagRef</var>, <emu-nt><a href="https://tc39.github.io/ecma262/#prod-TemplateLiteral">TemplateLiteral</a></emu-nt>,  <del><var>tailCall</var></del><ins><emu-val>false</emu-val></ins>).
        </li></ol></emu-alg>
      </emu-clause>
    </emu-clause>
    <emu-clause id="sec-static-semantics-hasproductionintailposition">
      <h1><span class="secnum">2.3</span>Static Semantics: HasProductionInTailPosition<span class="utils"><span class="anchor"><a href="#sec-static-semantics-hasproductionintailposition">#</a></span></span></h1>
      <p>With parameter <var>nonterminal</var>.</p>
      <!-- es6num="14.6.2.2" -->
      <emu-clause id="sec-expression-rules">
        <h1><span class="secnum">2.3.1</span>Expression Rules<span class="utils"><span class="anchor"><a href="#sec-expression-rules">#</a></span></span></h1>
        <emu-note><span class="note">Note</span>
          <p>A potential tail position call that is immediately followed by return <emu-xref aoid="GetValue"><a href="https://tc39.github.io/ecma262/#sec-getvalue">GetValue</a></emu-xref> of the call result is also a possible tail position call. Function calls cannot return reference values, so such a <emu-xref aoid="GetValue"><a href="https://tc39.github.io/ecma262/#sec-getvalue">GetValue</a></emu-xref> operation will always returns the same value as the actual function call result.</p>
        </emu-note>
        <emu-grammar><emu-production name="AssignmentExpression">
    <emu-nt><a href="#prod-AssignmentExpression">AssignmentExpression</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="5202c84b"><emu-nt><a href="https://tc39.github.io/ecma262/#prod-YieldExpression">YieldExpression</a></emu-nt></emu-rhs>
    <emu-rhs a="2bdf3b10"><emu-nt><a href="https://tc39.github.io/ecma262/#prod-ArrowFunction">ArrowFunction</a></emu-nt></emu-rhs>
    <emu-rhs a="8a33cee0"><emu-nt><a href="https://tc39.github.io/ecma262/#prod-LeftHandSideExpression">LeftHandSideExpression</a></emu-nt><emu-t>=</emu-t><emu-nt><a href="#prod-AssignmentExpression">AssignmentExpression</a></emu-nt></emu-rhs>
    <emu-rhs a="5f3a8747"><emu-nt><a href="https://tc39.github.io/ecma262/#prod-LeftHandSideExpression">LeftHandSideExpression</a></emu-nt><emu-nt><a href="https://tc39.github.io/ecma262/#prod-AssignmentOperator">AssignmentOperator</a></emu-nt><emu-nt><a href="#prod-AssignmentExpression">AssignmentExpression</a></emu-nt></emu-rhs>
</emu-production>
<emu-production name="BitwiseANDExpression" collapsed="" id="prod-BitwiseANDExpression">
    <emu-nt><a href="#prod-BitwiseANDExpression">BitwiseANDExpression</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="e6a36509"><emu-nt><a href="#prod-BitwiseANDExpression">BitwiseANDExpression</a></emu-nt><emu-t>&amp;</emu-t><emu-nt><a href="#prod-EqualityExpression">EqualityExpression</a></emu-nt></emu-rhs>
</emu-production>
<emu-production name="BitwiseXORExpression" collapsed="" id="prod-BitwiseXORExpression">
    <emu-nt><a href="#prod-BitwiseXORExpression">BitwiseXORExpression</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="b463172c"><emu-nt><a href="#prod-BitwiseXORExpression">BitwiseXORExpression</a></emu-nt><emu-t>^</emu-t><emu-nt><a href="#prod-BitwiseANDExpression">BitwiseANDExpression</a></emu-nt></emu-rhs>
</emu-production>
<emu-production name="BitwiseORExpression" collapsed="" id="prod-BitwiseORExpression">
    <emu-nt><a href="#prod-BitwiseORExpression">BitwiseORExpression</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="016dfa90"><emu-nt><a href="#prod-BitwiseORExpression">BitwiseORExpression</a></emu-nt><emu-t>|</emu-t><emu-nt><a href="#prod-BitwiseXORExpression">BitwiseXORExpression</a></emu-nt></emu-rhs>
</emu-production>
<emu-production name="EqualityExpression" id="prod-EqualityExpression">
    <emu-nt><a href="#prod-EqualityExpression">EqualityExpression</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="757a342c"><emu-nt><a href="#prod-EqualityExpression">EqualityExpression</a></emu-nt><emu-t>==</emu-t><emu-nt><a href="#prod-RelationalExpression">RelationalExpression</a></emu-nt></emu-rhs>
    <emu-rhs a="70ddad59"><emu-nt><a href="#prod-EqualityExpression">EqualityExpression</a></emu-nt><emu-t>!=</emu-t><emu-nt><a href="#prod-RelationalExpression">RelationalExpression</a></emu-nt></emu-rhs>
    <emu-rhs a="e0753bf6"><emu-nt><a href="#prod-EqualityExpression">EqualityExpression</a></emu-nt><emu-t>===</emu-t><emu-nt><a href="#prod-RelationalExpression">RelationalExpression</a></emu-nt></emu-rhs>
    <emu-rhs a="2113edaf"><emu-nt><a href="#prod-EqualityExpression">EqualityExpression</a></emu-nt><emu-t>!==</emu-t><emu-nt><a href="#prod-RelationalExpression">RelationalExpression</a></emu-nt></emu-rhs>
</emu-production>
<emu-production name="RelationalExpression" id="prod-RelationalExpression">
    <emu-nt><a href="#prod-RelationalExpression">RelationalExpression</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="f87a0200"><emu-nt><a href="#prod-RelationalExpression">RelationalExpression</a></emu-nt><emu-t>&lt;</emu-t><emu-nt><a href="#prod-ShiftExpression">ShiftExpression</a></emu-nt></emu-rhs>
    <emu-rhs a="a16358ee"><emu-nt><a href="#prod-RelationalExpression">RelationalExpression</a></emu-nt><emu-t>&gt;</emu-t><emu-nt><a href="#prod-ShiftExpression">ShiftExpression</a></emu-nt></emu-rhs>
    <emu-rhs a="ff231f22"><emu-nt><a href="#prod-RelationalExpression">RelationalExpression</a></emu-nt><emu-t>&lt;=</emu-t><emu-nt><a href="#prod-ShiftExpression">ShiftExpression</a></emu-nt></emu-rhs>
    <emu-rhs a="498fdf34"><emu-nt><a href="#prod-RelationalExpression">RelationalExpression</a></emu-nt><emu-t>&gt;=</emu-t><emu-nt><a href="#prod-ShiftExpression">ShiftExpression</a></emu-nt></emu-rhs>
    <emu-rhs a="d440bdac"><emu-nt><a href="#prod-RelationalExpression">RelationalExpression</a></emu-nt><emu-t>instanceof</emu-t><emu-nt><a href="#prod-ShiftExpression">ShiftExpression</a></emu-nt></emu-rhs>
    <emu-rhs a="f66b493e"><emu-nt><a href="#prod-RelationalExpression">RelationalExpression</a></emu-nt><emu-t>in</emu-t><emu-nt><a href="#prod-ShiftExpression">ShiftExpression</a></emu-nt></emu-rhs>
</emu-production>
<emu-production name="ShiftExpression" id="prod-ShiftExpression">
    <emu-nt><a href="#prod-ShiftExpression">ShiftExpression</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="4b572e10"><emu-nt><a href="#prod-ShiftExpression">ShiftExpression</a></emu-nt><emu-t>&lt;&lt;</emu-t><emu-nt><a href="#prod-AdditiveExpression">AdditiveExpression</a></emu-nt></emu-rhs>
    <emu-rhs a="19a05cdb"><emu-nt><a href="#prod-ShiftExpression">ShiftExpression</a></emu-nt><emu-t>&gt;&gt;</emu-t><emu-nt><a href="#prod-AdditiveExpression">AdditiveExpression</a></emu-nt></emu-rhs>
    <emu-rhs a="6df3c84c"><emu-nt><a href="#prod-ShiftExpression">ShiftExpression</a></emu-nt><emu-t>&gt;&gt;&gt;</emu-t><emu-nt><a href="#prod-AdditiveExpression">AdditiveExpression</a></emu-nt></emu-rhs>
</emu-production>
<emu-production name="AdditiveExpression" id="prod-AdditiveExpression">
    <emu-nt><a href="#prod-AdditiveExpression">AdditiveExpression</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="0e497b17"><emu-nt><a href="#prod-AdditiveExpression">AdditiveExpression</a></emu-nt><emu-t>+</emu-t><emu-nt><a href="#prod-MultiplicativeExpression">MultiplicativeExpression</a></emu-nt></emu-rhs>
    <emu-rhs a="ee054414"><emu-nt><a href="#prod-AdditiveExpression">AdditiveExpression</a></emu-nt><emu-t>-</emu-t><emu-nt><a href="#prod-MultiplicativeExpression">MultiplicativeExpression</a></emu-nt></emu-rhs>
</emu-production>
<emu-production name="MultiplicativeExpression" id="prod-MultiplicativeExpression">
    <emu-nt><a href="#prod-MultiplicativeExpression">MultiplicativeExpression</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="fb9fe2a0"><emu-nt><a href="#prod-MultiplicativeExpression">MultiplicativeExpression</a></emu-nt><emu-nt><a href="https://tc39.github.io/ecma262/#prod-MultiplicativeOperator">MultiplicativeOperator</a></emu-nt><emu-nt><a href="#prod-ExponentiationExpression">ExponentiationExpression</a></emu-nt></emu-rhs>
</emu-production>
<emu-production name="ExponentiationExpression" id="prod-ExponentiationExpression">
    <emu-nt><a href="#prod-ExponentiationExpression">ExponentiationExpression</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="d1905fcc"><emu-nt><a href="#prod-UpdateExpression">UpdateExpression</a></emu-nt><emu-t>**</emu-t><emu-nt><a href="#prod-ExponentiationExpression">ExponentiationExpression</a></emu-nt></emu-rhs>
</emu-production>
<emu-production name="UpdateExpression" id="prod-UpdateExpression">
    <emu-nt><a href="#prod-UpdateExpression">UpdateExpression</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="8bf8e31b"><emu-nt><a href="https://tc39.github.io/ecma262/#prod-LeftHandSideExpression">LeftHandSideExpression</a></emu-nt><emu-t>++</emu-t></emu-rhs>
    <emu-rhs a="8d1d2d72"><emu-nt><a href="https://tc39.github.io/ecma262/#prod-LeftHandSideExpression">LeftHandSideExpression</a></emu-nt><emu-t>--</emu-t></emu-rhs>
    <emu-rhs a="5701b162"><emu-t>++</emu-t><emu-nt><a href="#prod-UnaryExpression">UnaryExpression</a></emu-nt></emu-rhs>
    <emu-rhs a="3a745559"><emu-t>--</emu-t><emu-nt><a href="#prod-UnaryExpression">UnaryExpression</a></emu-nt></emu-rhs>
</emu-production>
<emu-production name="UnaryExpression" id="prod-UnaryExpression">
    <emu-nt><a href="#prod-UnaryExpression">UnaryExpression</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="bfdc08c3"><emu-t>delete</emu-t><emu-nt><a href="#prod-UnaryExpression">UnaryExpression</a></emu-nt></emu-rhs>
    <emu-rhs a="e5d8038f"><emu-t>void</emu-t><emu-nt><a href="#prod-UnaryExpression">UnaryExpression</a></emu-nt></emu-rhs>
    <emu-rhs a="ab1a2cb9"><emu-t>typeof</emu-t><emu-nt><a href="#prod-UnaryExpression">UnaryExpression</a></emu-nt></emu-rhs>
    <emu-rhs a="3b49039a"><emu-t>+</emu-t><emu-nt><a href="#prod-UnaryExpression">UnaryExpression</a></emu-nt></emu-rhs>
    <emu-rhs a="a03cca5c"><emu-t>-</emu-t><emu-nt><a href="#prod-UnaryExpression">UnaryExpression</a></emu-nt></emu-rhs>
    <emu-rhs a="07d36a79"><emu-t>~</emu-t><emu-nt><a href="#prod-UnaryExpression">UnaryExpression</a></emu-nt></emu-rhs>
    <emu-rhs a="b8b0af72"><emu-t>!</emu-t><emu-nt><a href="#prod-UnaryExpression">UnaryExpression</a></emu-nt></emu-rhs>
</emu-production>
<emu-production name="CallExpression">
    <emu-nt><a href="#prod-CallExpression">CallExpression</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="949290c3"><emu-nt><a href="https://tc39.github.io/ecma262/#prod-SuperCall">SuperCall</a></emu-nt></emu-rhs>
    <emu-rhs a="d94d9445"><emu-nt><a href="#prod-CallExpression">CallExpression</a></emu-nt><emu-t>[</emu-t><emu-nt><a href="#prod-Expression">Expression</a></emu-nt><emu-t>]</emu-t></emu-rhs>
    <emu-rhs a="bba9526d"><emu-nt><a href="#prod-CallExpression">CallExpression</a></emu-nt><emu-t>.</emu-t><emu-nt><a href="https://tc39.github.io/ecma262/#prod-IdentifierName">IdentifierName</a></emu-nt></emu-rhs>
</emu-production>
<emu-production name="NewExpression" collapsed="" id="prod-NewExpression">
    <emu-nt><a href="#prod-NewExpression">NewExpression</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="e753fad7"><emu-t>new</emu-t><emu-nt><a href="#prod-NewExpression">NewExpression</a></emu-nt></emu-rhs>
</emu-production>
<emu-production name="MemberExpression">
    <emu-nt><a href="#prod-MemberExpression">MemberExpression</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="6bbe1777"><emu-nt><a href="#prod-MemberExpression">MemberExpression</a></emu-nt><emu-t>[</emu-t><emu-nt><a href="#prod-Expression">Expression</a></emu-nt><emu-t>]</emu-t></emu-rhs>
    <emu-rhs a="7eb6e3f7"><emu-nt><a href="#prod-MemberExpression">MemberExpression</a></emu-nt><emu-t>.</emu-t><emu-nt><a href="https://tc39.github.io/ecma262/#prod-IdentifierName">IdentifierName</a></emu-nt></emu-rhs>
    <emu-rhs a="5f8b7394"><emu-nt><a href="https://tc39.github.io/ecma262/#prod-SuperProperty">SuperProperty</a></emu-nt></emu-rhs>
    <emu-rhs a="c81ee20f"><emu-nt><a href="https://tc39.github.io/ecma262/#prod-MetaProperty">MetaProperty</a></emu-nt></emu-rhs>
    <emu-rhs a="705abe84"><emu-t>new</emu-t><emu-nt><a href="#prod-MemberExpression">MemberExpression</a></emu-nt><emu-nt><a href="https://tc39.github.io/ecma262/#prod-Arguments">Arguments</a></emu-nt></emu-rhs>
</emu-production>
<emu-production name="PrimaryExpression" id="prod-PrimaryExpression">
    <emu-nt><a href="#prod-PrimaryExpression">PrimaryExpression</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="8cee0c59"><emu-t>this</emu-t></emu-rhs>
    <emu-rhs a="2361f19d"><emu-nt><a href="https://tc39.github.io/ecma262/#prod-IdentifierReference">IdentifierReference</a></emu-nt></emu-rhs>
    <emu-rhs a="92e97e03"><emu-nt><a href="https://tc39.github.io/ecma262/#prod-Literal">Literal</a></emu-nt></emu-rhs>
    <emu-rhs a="1bf32393"><emu-nt><a href="https://tc39.github.io/ecma262/#prod-ArrayLiteral">ArrayLiteral</a></emu-nt></emu-rhs>
    <emu-rhs a="cd178913"><emu-nt><a href="https://tc39.github.io/ecma262/#prod-ObjectLiteral">ObjectLiteral</a></emu-nt></emu-rhs>
    <emu-rhs a="242eeccd"><emu-nt><a href="https://tc39.github.io/ecma262/#prod-FunctionExpression">FunctionExpression</a></emu-nt></emu-rhs>
    <emu-rhs a="d8ce6db1"><emu-nt><a href="https://tc39.github.io/ecma262/#prod-ClassExpression">ClassExpression</a></emu-nt></emu-rhs>
    <emu-rhs a="abb7f7f4"><emu-nt><a href="https://tc39.github.io/ecma262/#prod-GeneratorExpression">GeneratorExpression</a></emu-nt></emu-rhs>
    <emu-rhs a="31b672e8"><emu-nt><a href="https://tc39.github.io/ecma262/#prod-RegularExpressionLiteral">RegularExpressionLiteral</a></emu-nt></emu-rhs>
    <emu-rhs a="d9922ce8"><emu-nt><a href="https://tc39.github.io/ecma262/#prod-TemplateLiteral">TemplateLiteral</a></emu-nt></emu-rhs>
</emu-production></emu-grammar>
        <emu-alg><ol><li>Return <emu-val>false</emu-val>.
        </li></ol></emu-alg>
        <emu-grammar><emu-production name="Expression" id="prod-Expression">
    <emu-nt><a href="#prod-Expression">Expression</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="d4fc7da4"><emu-nt><a href="#prod-AssignmentExpression">AssignmentExpression</a></emu-nt></emu-rhs>
    <emu-rhs a="0b039a65"><emu-nt><a href="#prod-Expression">Expression</a></emu-nt><emu-t>,</emu-t><emu-nt><a href="#prod-AssignmentExpression">AssignmentExpression</a></emu-nt></emu-rhs>
</emu-production></emu-grammar>
        <emu-alg><ol><li>Return HasProductionInTailPosition of <emu-nt><a href="#prod-AssignmentExpression">AssignmentExpression</a></emu-nt> with argument <var>nonterminal</var>.
        </li></ol></emu-alg>
        <emu-grammar><emu-production name="ConditionalExpression" collapsed="" id="prod-ConditionalExpression">
    <emu-nt><a href="#prod-ConditionalExpression">ConditionalExpression</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="42ec48bb"><emu-nt><a href="#prod-LogicalORExpression">LogicalORExpression</a></emu-nt><emu-t>?</emu-t><emu-nt><a href="#prod-AssignmentExpression">AssignmentExpression</a></emu-nt><emu-t>:</emu-t><emu-nt><a href="#prod-AssignmentExpression">AssignmentExpression</a></emu-nt></emu-rhs>
</emu-production></emu-grammar>
        <emu-alg><ol><li>Let <var>has</var> be HasProductionInTailPosition of the first <emu-nt><a href="#prod-AssignmentExpression">AssignmentExpression</a></emu-nt> with argument <var>nonterminal</var>.</li><li>If <var>has</var> is <emu-val>true</emu-val>, return <emu-val>true</emu-val>.</li><li>Return HasProductionInTailPosition of the second <emu-nt><a href="#prod-AssignmentExpression">AssignmentExpression</a></emu-nt> with argument <var>nonterminal</var>.
        </li></ol></emu-alg>
        <emu-grammar><emu-production name="LogicalANDExpression" collapsed="" id="prod-LogicalANDExpression">
    <emu-nt><a href="#prod-LogicalANDExpression">LogicalANDExpression</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="3df1d74a"><emu-nt><a href="#prod-LogicalANDExpression">LogicalANDExpression</a></emu-nt><emu-t>&amp;&amp;</emu-t><emu-nt><a href="#prod-BitwiseORExpression">BitwiseORExpression</a></emu-nt></emu-rhs>
</emu-production></emu-grammar>
        <emu-alg><ol><li>Return HasProductionInTailPosition of <emu-nt><a href="#prod-BitwiseORExpression">BitwiseORExpression</a></emu-nt> with argument <var>nonterminal</var>.
        </li></ol></emu-alg>
        <emu-grammar><emu-production name="LogicalORExpression" collapsed="" id="prod-LogicalORExpression">
    <emu-nt><a href="#prod-LogicalORExpression">LogicalORExpression</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="b6453dd9"><emu-nt><a href="#prod-LogicalORExpression">LogicalORExpression</a></emu-nt><emu-t>||</emu-t><emu-nt><a href="#prod-LogicalANDExpression">LogicalANDExpression</a></emu-nt></emu-rhs>
</emu-production></emu-grammar>
        <emu-alg><ol><li>Return HasProductionInTailPosition of <emu-nt><a href="#prod-LogicalANDExpression">LogicalANDExpression</a></emu-nt> with argument <var>nonterminal</var>.
        </li></ol></emu-alg>
        <emu-grammar><emu-production name="CallExpression">
    <emu-nt><a href="#prod-CallExpression">CallExpression</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="be44becf"><emu-nt><a href="#prod-MemberExpression">MemberExpression</a></emu-nt><emu-nt><a href="https://tc39.github.io/ecma262/#prod-Arguments">Arguments</a></emu-nt></emu-rhs>
    <emu-rhs a="42e81a1c"><emu-nt><a href="#prod-CallExpression">CallExpression</a></emu-nt><emu-nt><a href="https://tc39.github.io/ecma262/#prod-Arguments">Arguments</a></emu-nt></emu-rhs>
    <emu-rhs a="adcef8e1"><emu-nt><a href="#prod-CallExpression">CallExpression</a></emu-nt><emu-nt><a href="https://tc39.github.io/ecma262/#prod-TemplateLiteral">TemplateLiteral</a></emu-nt></emu-rhs>
</emu-production></emu-grammar>
        <emu-alg><ol><li><del>If this <emu-nt><a href="#prod-CallExpression">CallExpression</a></emu-nt> is <var>nonterminal</var>, return <emu-val>true</emu-val>.</del></li><li>Return <emu-val>false</emu-val>.
        </li></ol></emu-alg>
        <emu-grammar><emu-production name="MemberExpression">
    <emu-nt><a href="#prod-MemberExpression">MemberExpression</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="149e7618"><emu-nt><a href="#prod-MemberExpression">MemberExpression</a></emu-nt><emu-nt><a href="https://tc39.github.io/ecma262/#prod-TemplateLiteral">TemplateLiteral</a></emu-nt></emu-rhs>
</emu-production></emu-grammar>
        <emu-alg><ol><li><del>If this <emu-nt><a href="#prod-MemberExpression">MemberExpression</a></emu-nt> is <var>nonterminal</var>, return <emu-val>true</emu-val>.</del></li><li>Return <emu-val>false</emu-val>.
        </li></ol></emu-alg>
        <emu-grammar><emu-production name="PrimaryExpression" collapsed="">
    <emu-nt><a href="#prod-PrimaryExpression">PrimaryExpression</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="cab6f5d7"><emu-nt><a href="https://tc39.github.io/ecma262/#prod-CoverParenthesizedExpressionAndArrowParameterList">CoverParenthesizedExpressionAndArrowParameterList</a></emu-nt></emu-rhs>
</emu-production></emu-grammar>
        <emu-alg><ol><li>Let <var>expr</var> be CoveredParenthesizedExpression of <emu-nt><a href="https://tc39.github.io/ecma262/#prod-CoverParenthesizedExpressionAndArrowParameterList">CoverParenthesizedExpressionAndArrowParameterList</a></emu-nt>.</li><li>Return HasProductionInTailPosition of <var>expr</var> with argument <var>nonterminal</var>.
        </li></ol></emu-alg>
        <emu-grammar><emu-production name="ParenthesizedExpression" id="prod-ParenthesizedExpression">
    <emu-nt><a href="#prod-ParenthesizedExpression">ParenthesizedExpression</a></emu-nt><emu-geq>:</emu-geq><emu-rhs a="4ba6ef9d"><emu-t>(</emu-t><emu-nt><a href="#prod-Expression">Expression</a></emu-nt><emu-t>)</emu-t></emu-rhs>
</emu-production></emu-grammar>
        <emu-alg><ol><li>Return HasProductionInTailPosition of <emu-nt><a href="#prod-Expression">Expression</a></emu-nt> with argument <var>nonterminal</var>.
        </li></ol></emu-alg>
        <emu-grammar><emu-production name="TailCallExpression" params="Yield">
    <emu-nt params="Yield"><a href="#prod-TailCallExpression">TailCallExpression</a><emu-mods><emu-params>[Yield]</emu-params></emu-mods></emu-nt><emu-geq>:</emu-geq><emu-rhs a="1f0f1795"><emu-t>continue</emu-t><emu-nt params="?Yield"><a href="#prod-MemberExpression">MemberExpression</a><emu-mods><emu-params>[?Yield]</emu-params></emu-mods></emu-nt><emu-nt params="?Yield"><a href="https://tc39.github.io/ecma262/#prod-Arguments">Arguments</a><emu-mods><emu-params>[?Yield]</emu-params></emu-mods></emu-nt></emu-rhs>
    <emu-rhs a="28e68f0a"><emu-t>continue</emu-t><emu-nt params="?Yield"><a href="#prod-CallExpression">CallExpression</a><emu-mods><emu-params>[?Yield]</emu-params></emu-mods></emu-nt><emu-nt params="?Yield"><a href="https://tc39.github.io/ecma262/#prod-Arguments">Arguments</a><emu-mods><emu-params>[?Yield]</emu-params></emu-mods></emu-nt></emu-rhs>
    <emu-rhs a="707faded"><emu-t>continue</emu-t><emu-nt params="?Yield"><a href="#prod-MemberExpression">MemberExpression</a><emu-mods><emu-params>[?Yield]</emu-params></emu-mods></emu-nt><emu-nt params="?Yield"><a href="https://tc39.github.io/ecma262/#prod-TemplateLiteral">TemplateLiteral</a><emu-mods><emu-params>[?Yield]</emu-params></emu-mods></emu-nt></emu-rhs>
    <emu-rhs a="b15708e2"><emu-t>continue</emu-t><emu-nt params="?Yield"><a href="#prod-CallExpression">CallExpression</a><emu-mods><emu-params>[?Yield]</emu-params></emu-mods></emu-nt><emu-nt params="?Yield"><a href="https://tc39.github.io/ecma262/#prod-TemplateLiteral">TemplateLiteral</a><emu-mods><emu-params>[?Yield]</emu-params></emu-mods></emu-nt></emu-rhs>
</emu-production></emu-grammar>
        <emu-alg><ol><li><ins>If this <emu-nt><a href="#prod-TailCallExpression">TailCallExpression</a></emu-nt> is <var>nonterminal</var>, return <emu-val>true</emu-val>.</ins></li><li><ins>Return <emu-val>false</emu-val>.</ins>
        </li></ol></emu-alg>
      </emu-clause>
    </emu-clause>
</emu-clause><emu-annex id="sec-copyright-and-software-license">
      <h1><span class="secnum">A</span>Copyright &amp; Software License<span class="utils"><span class="anchor"><a href="#sec-copyright-and-software-license">#</a></span></span></h1>
      
      <h2>Copyright Notice</h2>
      <p>© 2016 Brian Terlson, Eric Faust</p>

      <h2>Software License</h2>
      <p>All Software contained in this document ("Software") is protected by copyright and is being made available under the "BSD License", included below. This Software may be subject to third party rights (rights from parties other than Ecma International), including patent rights, and no licenses under such third party rights are granted under this license even if the third party concerned is a member of Ecma International. SEE THE ECMA CODE OF CONDUCT IN PATENT MATTERS AVAILABLE AT http://www.ecma-international.org/memento/codeofconduct.htm FOR INFORMATION REGARDING THE LICENSING OF PATENT CLAIMS THAT ARE REQUIRED TO IMPLEMENT ECMA INTERNATIONAL STANDARDS.</p>

<p>Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</p>

<ol>
  <li>Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</li>
  <li>Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</li>
  <li>Neither the name of the authors nor Ecma International may be used to endorse or promote products derived from this software without specific prior written permission.</li>
</ol>

<p>THIS SOFTWARE IS PROVIDED BY THE ECMA INTERNATIONAL "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL ECMA INTERNATIONAL BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</p>

    </emu-annex>
</body>